<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Carta 3D Restaurante</title>

<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>

<style>
  body {
    font-family: system-ui, sans-serif;
    margin: 0;
    background: #0f172a;
    color: #e2e8f0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    touch-action: none;
    overflow: hidden;
  }

  /* Modificación solo para la card (imagen de fondo) */
  .card {
    background: url("3.jpg") no-repeat center center;
    background-size: cover;
    width: 100%;
    height: 100%;
    position: fixed;
    top: 0;
    left: 0;
    border-radius: 0; /* Eliminamos bordes redondeados para pantalla completa */
  }

  /* El resto del CSS se mantiene exactamente igual */
  .card::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.4);
    z-index: 0;
  }

  .model-container {
    width: 100%;
    height: 60%;
    position: relative;
    z-index: 1;
    touch-action: none;
  }

  model-viewer {
    width: 100%;
    height: 100%;
    background-color: transparent;
    touch-action: none;
  }

  .loader {
    position: absolute;
    inset: 0;
    background: rgba(15,23,42,0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.2rem;
    font-weight: bold;
    z-index: 2;
    display: none;
  }

  .card-info {
    padding: 1rem;
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-top: 1px solid rgba(255, 255, 255, 0.2);
  }

  .card-title {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 0.25rem;
    color: white;
  }

  .card-price {
    color: #22c55e;
    font-weight: bold;
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
  }

  .card-rating {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.9rem;
  }

  .card-ingredients {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.8);
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: 0.5rem;
  }

  .ingredient-tag {
    background: rgba(255, 255, 255, 0.15);
    padding: 0.25rem 0.5rem;
    border-radius: 999px;
    font-size: 0.8rem;
  }

  .swiper-button-next, .swiper-button-prev {
    color: white;
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    z-index: 20;
    touch-action: auto;
  }
  .swiper-button-next { right: 20px; }
  .swiper-button-prev { left: 20px; }

  /* Media query para pantallas más grandes (opcional) */
  @media (min-width: 768px) {
    .card {
      width: 450px;
      height: 700px;
      position: relative;
      border-radius: 12px;
    }
  }
</style>
</head>
<body>

<!-- Todo el HTML se mantiene exactamente igual -->
<div class="card">
  <div class="model-container">
    <div class="loader" id="loader">Cargando...</div>
    <model-viewer
      id="viewer"
      src="models/leo.glb"
      alt="Modelo"
      camera-controls
      shadow-intensity="1"
      auto-rotate
      interaction-policy="allow-when-focused"
      touch-action="none">
    </model-viewer>
  </div>
  <div class="card-info">
    <div class="card-title" id="title">Cappuccino</div>
    <div class="card-price" id="price">$4.50</div>
    <div class="card-rating">
      <span>★ 4.5</span>
      <span>(6,986)</span>
    </div>
    <div class="card-ingredients">
      <span class="ingredient-tag">Coffee</span>
      <span class="ingredient-tag">Milk</span>
      <span class="ingredient-tag">Micilum Roasted</span>
    </div>
  </div>
</div>

<div class="swiper-button-prev"></div>
<div class="swiper-button-next"></div>

<!-- El JavaScript se mantiene exactamente igual -->
<script>
  const models = [
    { 
      src: "models/leo.glb", 
      title: "Cappuccino", 
      price: "$4.50", 
      rating: "4.5 (6,986)",
      ingredients: ["Coffee", "Milk", "Micilum Roasted"]
    },
    { 
      src: "models/2.glb", 
      title: "Hamburguesa Clásica", 
      price: "$9.90", 
      rating: "4.8 (3,452)",
      ingredients: ["Carne", "Queso", "Lechuga", "Tomate"]
    },
    { 
      src: "models/3.glb", 
      title: "Ensalada César", 
      price: "$7.50", 
      rating: "4.3 (2,156)", 
      ingredients: ["Lechuga", "Pollo", "Parmesano", "Aderezo"]
    }
  ];

  let currentIndex = 0;
  const viewer = document.getElementById("viewer");
  const loader = document.getElementById("loader");
  const titleEl = document.getElementById("title");
  const priceEl = document.getElementById("price");
  const ingredientsEl = document.querySelector(".card-ingredients");
  const ratingEl = document.querySelector(".card-rating");

  document.addEventListener('touchmove', function(e) {
    const isNavigationButton = e.target.closest('.swiper-button-next') || 
                              e.target.closest('.swiper-button-prev');
    if (!isNavigationButton) {
      e.preventDefault();
    }
  }, { passive: false });

  function loadModel(index) {
    const model = models[index];
    loader.style.display = "flex";
    titleEl.textContent = model.title;
    priceEl.textContent = model.price;
    ratingEl.innerHTML = `★ ${model.rating}`;
    
    ingredientsEl.innerHTML = model.ingredients
      .map(ing => `<span class="ingredient-tag">${ing}</span>`)
      .join('');

    viewer.addEventListener("load", () => {
      loader.style.display = "none";
      viewer.autoRotate = true;
    }, { once: true });
    
    viewer.src = model.src;
  }

  document.querySelector(".swiper-button-next").addEventListener("click", (e) => {
    currentIndex = (currentIndex + 1) % models.length;
    loadModel(currentIndex);
  });

  document.querySelector(".swiper-button-prev").addEventListener("click", (e) => {
    currentIndex = (currentIndex - 1 + models.length) % models.length;
    loadModel(currentIndex);
  });

  loadModel(currentIndex);
</script>

</body>
</html>


